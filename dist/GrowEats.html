<!doctype html><html lang="id"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Grow Eats - Grow Track</title><link rel="stylesheet" href="../../css/GrowEats.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/><script defer="defer" src="main.bundle.js"></script><script defer="defer" src="login.bundle.js"></script></head><body><div class="container"><aside class="sidebar"><div class="logo"><img src="image/logo.png" alt="Logo"/><h2>Grow Track</h2></div><nav><ul><li><a href="DashboardUser.html" class="nav-item"><i class="fa fa-home"></i>Dashboard</a></li><li><a href="GrowCheck.html" class="nav-item"><i class="fa fa-ruler fa-lg"></i>Grow Check</a></li><li><a href="GrowEats.html" class="nav-item active"><i class="fa fa-utensils"></i>Grow Eats</a></li><li><a href="RiwayatIbu.html" class="nav-item"><i class="fa fa-stethoscope"></i>Riwayat Ibu</a></li><li><a href="RiwayatAnak.html" class="nav-item"><i class="fa fa-notes-medical"></i>Riwayat Anak</a></li></ul></nav></aside><main class="main-content"><div class="topbar"><h3>Grow Eats</h3><div class="search-user"><div class="search-box"><i class="fa fa-search"></i> <input placeholder="Type here..."/></div><div class="icon-group"><i class="fa fa-user"></i> <i class="fa fa-cog"></i> <i class="fa fa-bell"></i></div></div></div><section class="dashboard-content"><h1>Grow Eats</h1><p>Bantu cek isi piringmu!<br>Unggah foto makanan, dan AI akan mengecek keseimbangan gizi berdasarkan panduan Isi Piringku dari Kemenkes.<br></p><div class="upload-section"><div class="upload-box"><h3>Media Upload</h3><p>Unggah foto isi piringmu</p><div class="upload-wrapper" onclick='document.getElementById("fileInput").click()'><div class="folder-icon"><div class="folder-top"></div><div class="folder-body"><div class="upload-circle"><div class="upload-arrow"></div></div></div></div><input type="file" id="fileInput" hidden onchange="previewImage()"/><p>Drag your photo to start uploading</p><div class="upload-divider"><span>OR</span></div><button onclick="uploadImage()">Browse files</button></div><div class="upload-instruction"><p>Only support .jpg, and .png</p></div><div class="action-buttons"><button class="next-btn" onclick="goToResult()">Next</button></div></div><div class="result-box" id="resultBox"><p>Hasil Deteksi</p><div class="result-placeholder" id="resultPlaceholder"><span style="font-size:200px">ðŸ“·</span><p>Upload gambar untuk melihat hasil deteksi makanan</p></div></div></div></section></main></div><script>async function uploadImage(){const e=document.getElementById("fileInput").files[0];if(!e)return void alert("Pilih gambar terlebih dahulu!");const n=new FormData;n.append("file",e);try{const e=await fetch("https://desssti006-image-segmentation-isipiringku.hf.space/predict-isipiring",{method:"POST",body:n});if(!e.ok){const n=await e.json();return void alert("Gagal mendeteksi: "+(n.error||"Terjadi kesalahan"))}tampilkanHasil(await e.json())}catch(e){console.error(e),alert("Gagal terhubung ke server")}}function tampilkanHasil(e){const{proporsi:n,evaluasi:i,rekomendasi:t}=e,a=(document.getElementById("resultBox"),`\n      <h3>Proporsi</h3>\n      <ul>\n        ${Object.entries(n).map((([e,n])=>`<li>${e}: ${(100*n).toFixed(2)}%</li>`)).join("")}\n      </ul>\n\n      <h3>Evaluasi</h3>\n      <ul>\n        ${Object.entries(i).map((([e,n])=>`<li>${e}: ${n}</li>`)).join("")}\n      </ul>\n\n      <h3>Rekomendasi</h3>\n      <ul>\n        ${Object.entries(t).map((([e,n])=>`<li>${e}: ${n}</li>`)).join("")}\n      </ul>\n    `);document.getElementById("resultPlaceholder").innerHTML=a}function goToResult(){document.getElementById("fileInput").click()}function previewImage(){uploadImage()}</script></body></html>